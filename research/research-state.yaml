# Research State Management
# This file tracks both questions and workflow execution state
# The workflow reads and updates this file to ensure continuous execution

workflow:
  status: idle  # idle | running | completed | error
  current_phase: null  # generate | verify | evaluate | update_agent | commit | report
  current_iteration: null  # The research ID being processed
  last_completed_phase: commit
  error_message: null

  # Phase definitions for state machine
  phases:
    - name: generate
      description: "Generate novel question via opus-researcher"
      next: verify
      command: research-novel-question
    - name: verify
      description: "Run 5 parallel answerers + verifier"
      next: evaluate
      command: verify-novel-question
    - name: evaluate
      description: "Check score and determine research_status"
      next: update_agent
      command: null  # inline in execute-workflow
    - name: update_agent
      description: "Update opus-researcher.md with findings"
      next: commit
      command: null  # inline in execute-workflow
    - name: commit
      description: "Commit and push to GitHub"
      next: report
      command: commit-research
    - name: report
      description: "Display summary and recommend /compact"
      next: null  # workflow complete
      command: null  # inline in execute-workflow

questions:
  - id: 1
    question: "If X is the number of letters in TEN, and Y is the number of letters in NINE, what is math.ceil(X * 0.1 * 10) + math.ceil(Y * 0.1 * 10) in Python?"
    status: completed
    folder: research1
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T17:30:00+05:00"
    completed_at: "2026-01-31T17:55:00+05:00"

  - id: 2
    question: "What is the last letter of the word 'FIRST'?"
    status: completed
    folder: research2
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T18:00:00+05:00"
    completed_at: "2026-01-31T18:16:39+05:00"

  - id: 3
    question: "Which word has more letters: 'FOUR' or 'FIVE'?"
    status: completed
    folder: research3
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T19:15:00+05:00"
    completed_at: "2026-01-31T19:30:02+05:00"

  - id: 4
    question: "In the word 'ELEVEN', at what position is the third letter 'E'?"
    status: completed
    folder: research4
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T19:35:00+05:00"
    completed_at: "2026-01-31T19:48:15+05:00"

  - id: 5
    question: "How many letters are in 'FIVE LETTERS'?"
    status: completed
    folder: research5
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T19:49:00+05:00"
    completed_at: "2026-01-31T19:54:03+05:00"

  - id: 6
    question: "A girl has 3 brothers. Each brother has 2 sisters. How many children are in the family?"
    status: completed
    folder: research6
    score: 80
    research_status: need_more_research
    started_at: "2026-01-31T20:00:00+05:00"
    completed_at: "2026-01-31T20:27:27+05:00"

  - id: 7
    question: "A farmer needs to cross a river with a wolf, a goat, and a cabbage. The wolf can swim. The goat can swim. The cabbage floats. The farmer has a boat. How many trips does the farmer need to make in the boat?"
    status: completed
    folder: research7
    score: 100
    research_status: need_more_research
    started_at: "2026-01-31T20:51:00+05:00"
    completed_at: "2026-01-31T21:02:38+05:00"
