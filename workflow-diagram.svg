<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 900" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="900" fill="#0f172a"/>

  <!-- Title -->
  <text x="400" y="45" text-anchor="middle" fill="white" font-size="24" font-weight="bold">Novel LLM Research Workflow</text>
  <text x="400" y="70" text-anchor="middle" fill="#94a3b8" font-size="14">Infinite loop until consensus &lt; 10%</text>

  <!-- User Start -->
  <rect x="300" y="95" width="200" height="50" rx="25" fill="#22c55e"/>
  <text x="400" y="127" text-anchor="middle" fill="white" font-size="14" font-weight="bold">/execute-workflow</text>

  <!-- Arrow from Start -->
  <line x1="400" y1="145" x2="400" y2="175" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 1: Check Pending -->
  <rect x="250" y="180" width="300" height="60" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="205" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 1</text>
  <text x="400" y="225" text-anchor="middle" fill="white" font-size="14">Check for pending questions</text>

  <!-- Decision Diamond -->
  <polygon points="400,260 480,310 400,360 320,310" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="305" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">Pending?</text>
  <text x="400" y="320" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">exists?</text>

  <!-- No branch - to Generate Question -->
  <line x1="320" y1="310" x2="180" y2="310" stroke="#ef4444" stroke-width="2"/>
  <line x1="180" y1="310" x2="180" y2="380" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="250" y="300" fill="#ef4444" font-size="11">No</text>

  <!-- Yes branch - to Verify -->
  <line x1="480" y1="310" x2="620" y2="310" stroke="#22c55e" stroke-width="2"/>
  <line x1="620" y1="310" x2="620" y2="455" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <text x="540" y="300" fill="#22c55e" font-size="11">Yes</text>

  <!-- Step 2: Generate Question (left side) -->
  <rect x="50" y="385" width="260" height="80" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="180" y="410" text-anchor="middle" fill="#8b5cf6" font-size="12" font-weight="bold">STEP 2: research-novel-question</text>
  <text x="180" y="430" text-anchor="middle" fill="white" font-size="12">Generate novel question using</text>
  <text x="180" y="448" text-anchor="middle" fill="white" font-size="12">Opus Researcher (builds on previous)</text>

  <!-- Arrow from Generate to Verify -->
  <line x1="310" y1="425" x2="370" y2="425" stroke="#6366f1" stroke-width="2"/>
  <line x1="370" y1="425" x2="370" y2="455" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 3: Verify Question -->
  <rect x="250" y="460" width="300" height="100" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="485" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 3: verify-novel-question</text>
  <text x="400" y="508" text-anchor="middle" fill="white" font-size="12">Launch 5 parallel Opus Researchers</text>
  <text x="400" y="528" text-anchor="middle" fill="#94a3b8" font-size="11">Each independently answers the question</text>
  <text x="400" y="548" text-anchor="middle" fill="#94a3b8" font-size="11">Verifier synthesizes and calculates consensus</text>

  <!-- Arrow to Step 4 -->
  <line x1="400" y1="560" x2="400" y2="590" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 4: Evaluate Score -->
  <rect x="250" y="595" width="300" height="60" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="620" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 4</text>
  <text x="400" y="640" text-anchor="middle" fill="white" font-size="14">Evaluate consensus score</text>

  <!-- Score Decision Diamond -->
  <polygon points="400,675 490,725 400,775 310,725" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="720" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">Score</text>
  <text x="400" y="735" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">&lt; 10%?</text>

  <!-- No branch - Loop back -->
  <line x1="310" y1="725" x2="100" y2="725" stroke="#ef4444" stroke-width="2"/>
  <line x1="100" y1="725" x2="100" y2="180" stroke="#ef4444" stroke-width="2"/>
  <line x1="100" y1="180" x2="245" y2="180" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="200" y="715" fill="#ef4444" font-size="11">No (need harder questions)</text>

  <!-- Loop indicator -->
  <rect x="60" y="440" width="30" height="30" rx="15" fill="#ef4444"/>
  <text x="75" y="460" text-anchor="middle" fill="white" font-size="16" font-weight="bold">&#8734;</text>

  <!-- Yes branch - to Commit -->
  <line x1="490" y1="725" x2="620" y2="725" stroke="#22c55e" stroke-width="2"/>
  <text x="540" y="715" fill="#22c55e" font-size="11">Yes</text>

  <!-- Step 5: Commit -->
  <rect x="520" y="700" width="200" height="50" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <text x="620" y="720" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold">STEP 5</text>
  <text x="620" y="738" text-anchor="middle" fill="white" font-size="12">Commit and Push to GitHub</text>

  <!-- Arrow to Success -->
  <line x1="620" y1="750" x2="620" y2="790" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowhead-green)"/>

  <!-- Success -->
  <rect x="470" y="795" width="300" height="70" rx="8" fill="#166534" stroke="#22c55e" stroke-width="2"/>
  <text x="620" y="820" text-anchor="middle" fill="white" font-size="14" font-weight="bold">SUCCESS!</text>
  <text x="620" y="842" text-anchor="middle" fill="#bbf7d0" font-size="12">Found a question that breaks LLMs</text>
  <text x="620" y="858" text-anchor="middle" fill="#bbf7d0" font-size="11">research_status: complete</text>

  <!-- Legend -->
  <rect x="50" y="800" width="180" height="85" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="140" y="820" text-anchor="middle" fill="#94a3b8" font-size="11" font-weight="bold">LEGEND</text>
  <line x1="70" y1="835" x2="100" y2="835" stroke="#22c55e" stroke-width="2"/>
  <text x="110" y="839" fill="#94a3b8" font-size="10">Continue flow</text>
  <line x1="70" y1="855" x2="100" y2="855" stroke="#ef4444" stroke-width="2"/>
  <text x="110" y="859" fill="#94a3b8" font-size="10">Loop / retry</text>
  <circle cx="85" cy="875" r="8" fill="#ef4444"/>
  <text x="85" y="879" text-anchor="middle" fill="white" font-size="10" font-weight="bold">&#8734;</text>
  <text x="110" y="879" fill="#94a3b8" font-size="10">Infinite loop</text>
</svg>
