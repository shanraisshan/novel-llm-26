<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 950" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="950" fill="#0f172a"/>

  <!-- Title -->
  <text x="400" y="45" text-anchor="middle" fill="white" font-size="24" font-weight="bold">Novel LLM Research Workflow</text>
  <text x="400" y="70" text-anchor="middle" fill="#94a3b8" font-size="14">Infinite loop until consensus &lt; 10%</text>

  <!-- User Start -->
  <rect x="300" y="95" width="200" height="50" rx="25" fill="#22c55e"/>
  <text x="400" y="127" text-anchor="middle" fill="white" font-size="14" font-weight="bold">/execute-workflow</text>

  <!-- Arrow from Start -->
  <line x1="400" y1="145" x2="400" y2="175" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 1: Check Pending -->
  <rect x="250" y="180" width="300" height="60" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="205" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 1</text>
  <text x="400" y="225" text-anchor="middle" fill="white" font-size="14">Check for pending questions</text>

  <!-- Decision Diamond -->
  <polygon points="400,260 480,310 400,360 320,310" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="305" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">Pending?</text>
  <text x="400" y="320" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">exists?</text>

  <!-- No branch - to Generate Question -->
  <line x1="320" y1="310" x2="180" y2="310" stroke="#ef4444" stroke-width="2"/>
  <line x1="180" y1="310" x2="180" y2="380" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="250" y="300" fill="#ef4444" font-size="11">No</text>

  <!-- Yes branch - to Verify -->
  <line x1="480" y1="310" x2="620" y2="310" stroke="#22c55e" stroke-width="2"/>
  <line x1="620" y1="310" x2="620" y2="455" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <text x="540" y="300" fill="#22c55e" font-size="11">Yes</text>

  <!-- Step 2: Generate Question (left side) -->
  <rect x="50" y="385" width="260" height="90" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="180" y="410" text-anchor="middle" fill="#8b5cf6" font-size="12" font-weight="bold">STEP 2: research-novel-question</text>
  <text x="180" y="432" text-anchor="middle" fill="white" font-size="12">Generate novel question</text>
  <rect x="100" y="442" width="160" height="24" rx="4" fill="#8b5cf6" opacity="0.3"/>
  <text x="180" y="459" text-anchor="middle" fill="#c4b5fd" font-size="11" font-weight="bold">1x opus-researcher</text>

  <!-- Arrow from Generate to Verify -->
  <line x1="310" y1="430" x2="370" y2="430" stroke="#6366f1" stroke-width="2"/>
  <line x1="370" y1="430" x2="370" y2="460" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 3: Verify Question -->
  <rect x="250" y="465" width="300" height="120" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="490" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 3: verify-novel-question</text>
  <text x="400" y="512" text-anchor="middle" fill="white" font-size="12">Launch 5 parallel LLM answerers</text>
  <rect x="300" y="520" width="200" height="24" rx="4" fill="#3b82f6" opacity="0.3"/>
  <text x="400" y="537" text-anchor="middle" fill="#93c5fd" font-size="11" font-weight="bold">5x opus-answer (parallel)</text>
  <text x="400" y="558" text-anchor="middle" fill="#94a3b8" font-size="11">Synthesize with verifier</text>
  <rect x="315" y="563" width="170" height="18" rx="4" fill="#22c55e" opacity="0.3"/>
  <text x="400" y="576" text-anchor="middle" fill="#86efac" font-size="10" font-weight="bold">1x opus-verifier</text>

  <!-- Arrow to Step 4 -->
  <line x1="400" y1="585" x2="400" y2="615" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 4: Evaluate Score -->
  <rect x="250" y="620" width="300" height="60" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="400" y="645" text-anchor="middle" fill="#6366f1" font-size="12" font-weight="bold">STEP 4</text>
  <text x="400" y="665" text-anchor="middle" fill="white" font-size="14">Evaluate consensus score</text>

  <!-- Score Decision Diamond -->
  <polygon points="400,700 490,750 400,800 310,750" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="745" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">Score</text>
  <text x="400" y="760" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="bold">&lt; 10%?</text>

  <!-- No branch - Loop back -->
  <line x1="310" y1="750" x2="100" y2="750" stroke="#ef4444" stroke-width="2"/>
  <line x1="100" y1="750" x2="100" y2="180" stroke="#ef4444" stroke-width="2"/>
  <line x1="100" y1="180" x2="245" y2="180" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="200" y="740" fill="#ef4444" font-size="11">No (need harder questions)</text>

  <!-- Loop indicator -->
  <rect x="60" y="455" width="30" height="30" rx="15" fill="#ef4444"/>
  <text x="75" y="475" text-anchor="middle" fill="white" font-size="16" font-weight="bold">&#8734;</text>

  <!-- Yes branch - to Commit -->
  <line x1="490" y1="750" x2="620" y2="750" stroke="#22c55e" stroke-width="2"/>
  <text x="540" y="740" fill="#22c55e" font-size="11">Yes</text>

  <!-- Step 5: Commit -->
  <rect x="520" y="725" width="200" height="50" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <text x="620" y="745" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold">STEP 5</text>
  <text x="620" y="763" text-anchor="middle" fill="white" font-size="12">Commit and Push to GitHub</text>

  <!-- Arrow to Success -->
  <line x1="620" y1="775" x2="620" y2="815" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowhead-green)"/>

  <!-- Success -->
  <rect x="470" y="820" width="300" height="70" rx="8" fill="#166534" stroke="#22c55e" stroke-width="2"/>
  <text x="620" y="845" text-anchor="middle" fill="white" font-size="14" font-weight="bold">SUCCESS!</text>
  <text x="620" y="867" text-anchor="middle" fill="#bbf7d0" font-size="12">Found a question that breaks LLMs</text>
  <text x="620" y="883" text-anchor="middle" fill="#bbf7d0" font-size="11">research_status: complete</text>

  <!-- Legend -->
  <rect x="50" y="820" width="200" height="120" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="150" y="840" text-anchor="middle" fill="#94a3b8" font-size="11" font-weight="bold">AGENTS</text>
  <rect x="65" y="850" width="80" height="16" rx="3" fill="#8b5cf6" opacity="0.4"/>
  <text x="110" y="862" fill="#c4b5fd" font-size="9">opus-researcher</text>
  <text x="195" y="862" fill="#94a3b8" font-size="9">Deep research</text>
  <rect x="65" y="872" width="80" height="16" rx="3" fill="#3b82f6" opacity="0.4"/>
  <text x="110" y="884" fill="#93c5fd" font-size="9">opus-answer</text>
  <text x="195" y="884" fill="#94a3b8" font-size="9">Simple LLM</text>
  <rect x="65" y="894" width="80" height="16" rx="3" fill="#22c55e" opacity="0.4"/>
  <text x="110" y="906" fill="#86efac" font-size="9">opus-verifier</text>
  <text x="195" y="906" fill="#94a3b8" font-size="9">Synthesize</text>
  <circle cx="80" y="925" r="8" fill="#ef4444"/>
  <text x="80" y="929" text-anchor="middle" fill="white" font-size="10" font-weight="bold">&#8734;</text>
  <text x="150" y="929" fill="#94a3b8" font-size="9">Infinite loop</text>
</svg>
